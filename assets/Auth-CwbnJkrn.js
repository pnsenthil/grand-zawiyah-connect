import{c as U,m as P,r as i,j as e,C as F,a as A,b as E,d as T,M as I,B as x,L,U as B,q as G,u as Z,s as O}from"./index-DvwH0SUZ.js";import{I as f}from"./input-Dr0z7DXz.js";import{L as d}from"./label-BzR_Dta3.js";import{C as b}from"./checkbox-Benqdtvr.js";import{A as M,a as D}from"./alert-ChJeTMh1.js";import{L as C}from"./lock-DvIxZCoF.js";import{E as k}from"./eye-I_15XevB.js";import{A as z}from"./arrow-left-_6zIhwdL.js";import"./index-BfDzN9Ny.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=U("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),H=({onSwitchToSignUp:g,onSuccess:o})=>{const{signIn:u}=P(),[s,j]=i.useState({email:"",password:"",rememberMe:!1}),[m,w]=i.useState(!1),[r,p]=i.useState(!1),[t,h]=i.useState(""),N=async n=>{n.preventDefault(),p(!0),h("");try{const l=await u({email:s.email,password:s.password,rememberMe:s.rememberMe});l.success?o==null||o():h(l.error||"Sign in failed")}catch{h("An unexpected error occurred")}finally{p(!1)}},c=(n,l)=>{j(v=>({...v,[n]:l})),t&&h("")};return e.jsxs(F,{className:"w-full max-w-md mx-auto",children:[e.jsxs(A,{className:"text-center",children:[e.jsx(E,{className:"text-2xl font-bold text-foreground",children:"Welcome Back"}),e.jsx("p",{className:"text-muted-foreground",children:"Sign in to your Grand Zawiyah account"})]}),e.jsxs(T,{children:[e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[t&&e.jsx(M,{variant:"destructive",children:e.jsx(D,{children:t})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"email",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(f,{id:"email",type:"email",placeholder:"Enter your email",value:s.email,onChange:n=>c("email",n.target.value),className:"pl-10",required:!0,disabled:r})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(f,{id:"password",type:m?"text":"password",placeholder:"Enter your password",value:s.password,onChange:n=>c("password",n.target.value),className:"pl-10 pr-10",required:!0,disabled:r}),e.jsx("button",{type:"button",onClick:()=>w(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",disabled:r,children:m?e.jsx(S,{className:"h-4 w-4"}):e.jsx(k,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{id:"rememberMe",checked:s.rememberMe,onCheckedChange:n=>c("rememberMe",!!n),disabled:r}),e.jsx(d,{htmlFor:"rememberMe",className:"text-sm",children:"Remember me"})]}),e.jsx(x,{type:"button",variant:"link",className:"text-sm p-0 h-auto",disabled:r,children:"Forgot password?"})]}),e.jsx(x,{type:"submit",className:"w-full",size:"lg",disabled:r||!s.email||!s.password,children:r?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"h-4 w-4 mr-2 animate-spin"}),"Signing In..."]}):"Sign In"}),e.jsx("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:e.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:[e.jsx("strong",{children:"Demo Account:"}),e.jsx("br",{}),"Email: demo@example.com",e.jsx("br",{}),"Password: any password (8+ chars)"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",e.jsx(x,{type:"button",variant:"link",className:"p-0 h-auto text-legacy hover:text-legacy-dark",onClick:g,disabled:r,children:"Sign up here"})]})})]})]})},R=({onSwitchToSignIn:g,onSuccess:o})=>{const{signUp:u}=P(),[s,j]=i.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",acceptTerms:!1,newsletter:!0}),[m,w]=i.useState(!1),[r,p]=i.useState(!1),[t,h]=i.useState(!1),[N,c]=i.useState(""),n=async a=>{if(a.preventDefault(),h(!0),c(""),s.password!==s.confirmPassword){c("Passwords do not match"),h(!1);return}if(!s.acceptTerms){c("You must accept the terms and conditions"),h(!1);return}try{const y=await u({name:s.name,email:s.email,phone:s.phone||void 0,password:s.password,acceptTerms:s.acceptTerms,newsletter:s.newsletter});y.success?o==null||o():c(y.error||"Sign up failed")}catch{c("An unexpected error occurred")}finally{h(!1)}},l=(a,y)=>{j(q=>({...q,[a]:y})),N&&c("")},v=a=>a.length>=8&&/[A-Z]/.test(a)&&/[0-9]/.test(a);return e.jsxs(F,{className:"w-full max-w-md mx-auto",children:[e.jsxs(A,{className:"text-center",children:[e.jsx(E,{className:"text-2xl font-bold text-foreground",children:"Create Account"}),e.jsx("p",{className:"text-muted-foreground",children:"Join the Grand Zawiyah community"})]}),e.jsxs(T,{children:[e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[N&&e.jsx(M,{variant:"destructive",children:e.jsx(D,{children:N})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"name",children:"Full Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(f,{id:"name",type:"text",placeholder:"Enter your full name",value:s.name,onChange:a=>l("name",a.target.value),className:"pl-10",required:!0,disabled:t})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"email",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(f,{id:"email",type:"email",placeholder:"Enter your email",value:s.email,onChange:a=>l("email",a.target.value),className:"pl-10",required:!0,disabled:t})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"phone",children:"Phone Number (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(f,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:s.phone,onChange:a=>l("phone",a.target.value),className:"pl-10",disabled:t})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"password",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(f,{id:"password",type:m?"text":"password",placeholder:"Create a password",value:s.password,onChange:a=>l("password",a.target.value),className:"pl-10 pr-10",required:!0,disabled:t}),e.jsx("button",{type:"button",onClick:()=>w(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",disabled:t,children:m?e.jsx(S,{className:"h-4 w-4"}):e.jsx(k,{className:"h-4 w-4"})})]}),s.password&&!v(s.password)&&e.jsx("p",{className:"text-xs text-destructive",children:"Password must be at least 8 characters with uppercase letter and number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"confirmPassword",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(f,{id:"confirmPassword",type:r?"text":"password",placeholder:"Confirm your password",value:s.confirmPassword,onChange:a=>l("confirmPassword",a.target.value),className:"pl-10 pr-10",required:!0,disabled:t}),e.jsx("button",{type:"button",onClick:()=>p(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",disabled:t,children:r?e.jsx(S,{className:"h-4 w-4"}):e.jsx(k,{className:"h-4 w-4"})})]}),s.confirmPassword&&s.password!==s.confirmPassword&&e.jsx("p",{className:"text-xs text-destructive",children:"Passwords do not match"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(b,{id:"acceptTerms",checked:s.acceptTerms,onCheckedChange:a=>l("acceptTerms",!!a),disabled:t,className:"mt-1"}),e.jsxs(d,{htmlFor:"acceptTerms",className:"text-sm leading-relaxed",children:["I agree to the"," ",e.jsx(x,{type:"button",variant:"link",className:"p-0 h-auto text-legacy",children:"Terms of Service"})," ","and"," ",e.jsx(x,{type:"button",variant:"link",className:"p-0 h-auto text-legacy",children:"Privacy Policy"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(b,{id:"newsletter",checked:s.newsletter,onCheckedChange:a=>l("newsletter",!!a),disabled:t,className:"mt-1"}),e.jsx(d,{htmlFor:"newsletter",className:"text-sm leading-relaxed",children:"Subscribe to our newsletter for updates and spiritual content"})]})]}),e.jsx(x,{type:"submit",className:"w-full",size:"lg",disabled:t||!s.name||!s.email||!s.password||!s.confirmPassword||!s.acceptTerms||!v(s.password)||s.password!==s.confirmPassword,children:t?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Account..."]}):"Create Account"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",e.jsx(x,{type:"button",variant:"link",className:"p-0 h-auto text-legacy hover:text-legacy-dark",onClick:g,disabled:t,children:"Sign in here"})]})})]})]})},ee=()=>{const[g,o]=i.useState(!1),u=Z(),s=O(),j=()=>{var p,t;const w=((p=s.state)==null?void 0:p.redirectTo)||"/dashboard",r=(t=s.state)==null?void 0:t.paymentData;r?u(w,{state:r}):u(w)},m=()=>{u("/")};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(x,{variant:"ghost",onClick:m,className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[e.jsx(z,{className:"h-4 w-4"}),"Back to Home"]})}),g?e.jsx(R,{onSwitchToSignIn:()=>o(!1),onSuccess:j}):e.jsx(H,{onSwitchToSignUp:()=>o(!0),onSuccess:j}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"By signing in, you agree to our commitment to creating a safe and welcoming community for all members of the Grand Zawiyah family."})})]})})})};export{ee as default};
